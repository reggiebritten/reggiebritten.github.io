<form autocomplete="off">

    <!-- Effect Header -->
    <header class="sheet-header">
        <img class="effect-icon file-picker profile-img" src="{{effect.icon}}" data-edit="icon" title="{{data.label}}" data-type="image" data-target="icon" />
        <div>
            <h1 class="charname flex-group-center">
                <input name="label" type="text" value="{{effect.label}}" placeholder="Name"/>
            </h1>

            <div class="form-group">
                <label style = "flex: 0;">Source:</label>
                {{log effect}}
                <input type="text" name="origin" value="{{effect.sourceName}}" disabled/>
            </div>
            <div class="form-group">
                <label>Enabled:</label>
                <input type='checkbox' name="disabled" {{#unless effect.disabled}}checked{{/unless}}>
                <label>Show Icon:</label>
                <input type='checkbox' name="flags.core.statusId" {{checked effect.flags.core.statusId}}>
                <label>Reminders:</label>
                <input type='checkbox' name="flags.reminder" {{checked effect.flags.reminder}}>
            </div>
    

                <!-- {{#if isActorEffect}}
                <div class="form-group">
                    <label>{{ localize "EFFECT.Origin" }}</label>
                    <div class="form-fields">
                        <input type="text" name="origin" value="{{ data.origin }}" disabled/>
                    </div>
                </div>
                {{/if}}
        
                {{#if isItemEffect}}
                <div class="form-group">
                    <label>{{ localize "EFFECT.Transfer" }}</label>
                    <div class="form-fields">
                        <input type="checkbox" name="transfer" {{checked data.transfer}}/>
                    </div>
                </div>
                {{/if}} -->
            </div>

        </div>



      </header>


        <header class="effect-change effects-header flexrow">
            <div class="key"> Attribute </div>
            <div class="value"> Value </div>
            <div class="mode"> Mode </div>
            <div class="effect-controls">
                <a class="effect-control" data-action="add"><i class="far fa-plus-square"></i></a>
            </div>
        </header>
        <ol class="changes-list">
            {{#each data.changes as |change i|}}
            <li class="effect-change flexrow" data-index="{{i}}">

                <div class="key">
                    <input type="text" name="changes.{{i}}.key" value="{{change.key}}" list="keys"/>
                    <datalist id="keys">
                        <option value="Agility">
                        <option value="Brawn">
                        <option value="Cunning">
                        <option value="Base-Poise">
                        <option value="Base-Momentum">
                        <option value="Base-Focus">
                        <option value="Speed">
                        <option value="Armor">
                        <option value="Perception">
                        <option value="Capacity">
                        <option value="Bold">
                        <option value="Subtle">
                        <option value="Serious">
                        <option value="Whimsical">
                        <option value="Idealistic">
                        <option value="Pragmatic">
                        <option value="Vulnerabilities">
                        <option value="Resistances">
                    </datalist>
                </div>
                <div class="value">
                    <input type="text" name="changes.{{i}}.value" value="{{change.value}}"/>
                </div>
                <div class="mode">
                    <select name="changes.{{i}}.mode">
                        {{#select change.mode}}
                            <option value="2">Add to</option>
                            <option value="5">Set to</option>
                            <!-- <option value="0">Custom</option> -->
                        {{/select}}
                        <!-- {{selectOptions ../modes selected=change.mode}} -->
                    </select>
                </div>

                <div class="effect-controls">
                    <a class="effect-control" data-action="delete"><i class="fas fa-trash"></i></a>
                </div>
            </li>
            {{/each}}
        </ol>

    <footer class="sheet-footer">
        <button type="submit"><i class="fas fa-save"></i> {{localize submitText}}</button>
    </footer>
</form>